{% extends 'base.j2' %} 
{% block title %}MAMO{% endblock %}
{% block content %}
    <div id="wrapper">
        <h1>MAMO v0.3</h1>

        {# <h2>Test area</h2>
        <div class="box">
            <a href="#" id="listTest">Test button</a>
            <div id="testList">
            </div>
        </div> #}

        <h2 class="toggleshow">List redirections</h2>
        <a href="#" id="listRedir">List/hide redirections</a>
        <p>{{ redirs|length }} aliases - <a href="#" id="refresh-redirs">refresh</a></p>
        <table id="redirList">
            <tr>
                <th>ID</th>
                <th>Name/description</th>
                <th>Date modified</th>
                <th>Alias</th>
                <th>Destination addr</th>
            </tr>
        {% for r in redirs %}
            <tr>
                <td>{{ r }}</td>
                <td>{{ redirs[r]['name'] }}</td>
                <td>{{ redirs[r]['date'] }}</td>
                <td>{{ redirs[r]['alias'] }}</td>
                <td>{{ redirs[r]['to'] }}</td>
            </tr>
        {% endfor %}
        </table>

        <h2>Add redirection</h2>
        <a href="#" id="gen_uuid">Generate random UUID address</a>
        <form method="post" id="redir_form" class="flex-utd">
            <input type="text" id="name" class="input" name="name" maxlength="120" placeholder="Name/description">
            <input type="text" id="alias" class="input" name="alias" maxlength="64" placeholder="my_alias@mail.com">
            <input type="text" id="to" class="input" name="to" maxlength="64" placeholder="my_private@mail.com">
            <input type="submit" class="submit" value="Create">
        </form>

        <h2>Remove alias</h2>
        <form method="post" id="del_redir_form" class="flex-utd">
            <input type="text" id="id_del" class="input" name="id_del" maxlength="64" placeholder="Id of the alias to remove">
            <input type="submit" class="submit" value="Remove">
        </form>
    </div>
{% endblock %}